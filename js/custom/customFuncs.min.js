/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: Personal functions.
 */
function delay(e,t){return new Promise(n=>{setTimeout(()=>{"function"==typeof t&&t(),n()},e)})}function dynamicType(e,t,n){new Typed("#typedtext",{strings:e,startDelay:0,backDelay:1e3,typeSpeed:t||80,backSpeed:n||60,loop:!0,showCursor:!0,contentType:"html",smartBackspace:!0})}function customNtf(e){new NotificationFx({wrapper:document.body,message:e.text,layout:e.layout,effect:e.effect,type:"error",ttl:e.ttl,onClose:()=>!1,onOpen:()=>!1}).show()}async function announce(e,t,n,o){e.append('<link id="jelly" href="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@'+t+'/static/ns-style-growl.css" rel="stylesheet">'),await delay(1e3),customNtf({text:'<p>🔔【公告】——2020.8.3<br />叮咚！博客有文章更新啦~<br />更新列表：<br /><a href="/posts/inside-configuration">[持续更新]Inside主题进阶配置</a><br /><br />快去看看吧~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="confirm" href="'+n+'#cofirmed">确认公告</a></p>',layout:"growl",effect:"jelly",ttl:1e4}),confirmAnnounce(o)}function confirmAnnounce(e){$("a#confirm").click(()=>{$(".ns-box.ns-growl.ns-effect-jelly.ns-type-error.ns-show .ns-close").click(),localStorage.setItem("announcement_date",e)})}async function checkedNotification(e,t){e.append('<link id="jelly" href="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@'+t+'/static/ns-style-growl.css" rel="stylesheet">'),await delay(1600),customNtf({text:'<p>🔔【消息】<br />恭喜～你已经正式进入了避难所(Shelter)～<br />页面将在5秒后跳转至首页，请耐心等待～<br />无法跳转？试试&nbsp;&nbsp;<a href="/">手动跳转</a></p>',layout:"growl",effect:"jelly",ttl:5500}),await delay(5e3),window.location.href="/"}