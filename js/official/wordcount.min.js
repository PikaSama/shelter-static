/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: A wordcount script, referenced to hexo-wordcount.
 */
(async()=>{const e=(e,n)=>new Promise(s=>{setTimeout(()=>{"function"==typeof n&&n(),s()},e)});await e(100);const n=$(".φgj.φr");n.append('<span class="load_wordcount">Loading...</span>'),await e(1e3);let s=document.querySelector(".φbk.φh.φz").innerText.length,t=$(".φbk.φh.φz img").length,l=document.querySelectorAll("meting-js"),a=0;if(l.length>0)for(let e=0;e<l.length;e++)a+=l[e].innerText.length;let o=document.querySelectorAll("figure"),i=0;if(o.length>0)for(let e=0;e<o.length;e++)i+=o[e].innerText.length;s=s-a-i;let r=(Math.round(s/60+i/80)+t)/10;s=s<1e3?"= "+s+" words":"≈ "+Math.round(s/100)/10+"k words",r=r>1?"≈ "+r+" mins":"≈ 1 min",o.length>0&&(i=i<1e3?"= "+i+" chars":"≈ "+Math.round(i/100)/10+"k chars"),$("[class='load_wordcount']").remove(),n.append('<span class="words"><i class="ri-quill-pen-line"></i>'+s+"</span>"),o.length>0&&n.append('<span class="codes">&nbsp;&nbsp;<i class="ri-code-box-line"></i>'+i+"</span>"),n.append('<span class="readtime">&nbsp;&nbsp;<i class="ri-book-open-line"></i>'+r+"</span>")})();