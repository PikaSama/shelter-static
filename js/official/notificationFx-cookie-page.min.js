/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: An extension of notificationFx-cookie.js.
 */
(async()=>{const e=(e,n)=>new Promise(t=>{setTimeout(()=>{"function"==typeof n&&n(),t()},e)});await e(1e3);let n=docCookies.hasItem("newbie");const t=window.location.pathname,o="2020.8.3",s=$("head"),a="1.3.12",i=async(n,t,o,s)=>{n.append('<link id="jelly" href="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@'+t+'/static/ns-style-growl.css" rel="stylesheet">'),await e(1e3),new NotificationFx({wrapper:document.body,message:'<p>🔔【公告】——2020.8.3<br />叮咚！博客有文章更新啦~<br />更新列表：<br /><a href="/posts/inside-configuration">[持续更新]Inside主题进阶配置</a><br /><br />快去看看吧~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="confirm" href="'+o+'#cofirmed">确认公告</a></p>',layout:"growl",effect:"jelly",type:"error",ttl:1e4,onClose:function(){return!1},onOpen:function(){return!1}}).show(),(e=>{$("a#confirm").click(()=>{$(".ns-box.ns-growl.ns-effect-jelly.ns-type-error.ns-show .ns-close").click(),docCookies.setItem("announcement_date",e,1/0,"/","shelter.beaa.cn",!0)})})(s)},r=async()=>{const r=docCookies.getItem("announcement_date"),c=".ns-box.ns-other.ns-effect-thumbslider.ns-type-error";null!=r&&r==o||1!=n||(null==document.querySelector(c)?await i(s,a,t,o):null!=document.querySelector(c+".ns-show")?($(c).attr("id","canceled"),await e(500),$(c).remove(),$("link#thumbslider").remove(),await i(s,a,t,o)):($(c).remove(),$("link#thumbslider").remove(),await i(s,a,t,o)))};0==n&&"/help"==t?(docCookies.setItem("newbie","0",1/0,"/","shelter.beaa.cn",!0),n=docCookies.hasItem("newbie"),await r()):1==n&&"/help"==t&&await r()})();