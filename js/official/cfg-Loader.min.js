/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: Loader of custom config.
 */
(async()=>{await delay(500);const e=localStorage.getItem("newbie"),t=$("head"),a=$("body"),c=document.querySelector("is-palette2");let i,n,s="0",r=0,l="0";const o={click:e=>{c.shadowRoot.querySelectorAll("a")[e].click()},listen:(e,t)=>{c.shadowRoot.querySelectorAll("a")[e].addEventListener("click",t)},accent:e=>{o.listen(e,async()=>{"0"==s&&"pc"!=n&&(await delay(50),o.click(i))})},day:e=>{o.listen(e,()=>{localStorage.setItem("cachedTheme",e),$(".input-radio-night").attr("class","input-radio"),$("textarea.mvsys#night").removeAttr("id"),$(".φbh").removeAttr("id"),i=e})},night:e=>{o.listen(e,()=>{localStorage.setItem("cachedTheme",e),$(".input-radio").attr("class","input-radio-night"),$("textarea.mvsys").attr("id","night"),$(".φbh").attr("id","darkmode"),i=e})}},d=()=>{null!=e?(s=localStorage.getItem("sidebar_widget_background"),(()=>{l=localStorage.getItem("auto_night"),r=parseInt(localStorage.getItem("default_theme"));let e=(new Date).getHours();"1"==l&&(e>=19||e<=5)?o.click(1):o.click(r)})(),(()=>{let e=parseInt(localStorage.getItem("default_theme_widget"));0==e?o.click(10):e>0&&e<6?(e+=4,o.click(e)):e>=6&&(e+=5,o.click(e))})(),(()=>{let e=localStorage.getItem("click_effect");"0"==e?a.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.12/static/clickLove.js"><\/script>'):"1"==e?(a.append('<script src="//cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"><\/script>'),a.append('<script src="//zorin.beaa.cn/test/cb1.js"><\/script>')):a.append('<script src="//zorin.beaa.cn/test/cb2.js"><\/script>')})(),"1"==localStorage.getItem("live2d")&&a.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/live2d-widget@latest/autoload.js"><\/script>')):(a.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.12/static/clickLove.js"><\/script>'),a.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/live2d-widget@latest/autoload.js"><\/script>'))};o.day(0),o.night(1),o.day(2),o.day(3),o.day(4),o.accent(5),o.accent(6),o.accent(7),o.accent(8),o.accent(9),o.accent(10),o.accent(11),o.accent(12),o.accent(13),o.accent(14),o.accent(15),o.accent(16),o.accent(17),window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?(t.append('<link href="//zorin.beaa.cn/test/radio-mobile.css" rel="stylesheet" />'),n="non-pc"):(t.append('<link href="//zorin.beaa.cn/test/radio.css" rel="stylesheet" />'),n="pc"),null!=c?d():await delay(1e3,d)})();