/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: Loader of custom config.
 */
(async()=>{await delay(500);const e=localStorage.getItem("newbie"),t=localStorage.getItem("custom"),a=$("head"),c=$("body"),i=document.querySelector("is-palette2");let n,s,l="0",r=0,o="0";const d={click:e=>{i.shadowRoot.querySelectorAll("a")[e].click()},listen:(e,t)=>{i.shadowRoot.querySelectorAll("a")[e].addEventListener("click",t)},accent:e=>{d.listen(e,async()=>{"0"==l&&"pc"!=s&&(await delay(50),d.click(n))})},day:e=>{d.listen(e,()=>{localStorage.setItem("night","0"),$(".input-radio-night").attr("class","input-radio"),$("textarea#mvsys-night").attr("id","mvsys"),$(".φbh").removeAttr("id"),n=e})},night:e=>{d.listen(e,()=>{localStorage.setItem("night","1"),$(".input-radio").attr("class","input-radio-night"),$("textarea#mvsys").attr("id","mvsys-night"),$(".φbh").attr("id","darkmode"),n=e})}},p=()=>{null!=t&&null!=e?(l=localStorage.getItem("sidebar_widget_background"),(()=>{o=localStorage.getItem("auto_night"),r=parseInt(localStorage.getItem("default_theme"));let e=(new Date).getHours();"1"==o&&(e>=19||e<=5)?d.click(1):d.click(r)})(),(()=>{let e=parseInt(localStorage.getItem("default_theme_widget"));0==e?d.click(10):e>0&&e<6?(e+=4,d.click(e)):e>=6&&(e+=5,d.click(e))})(),(()=>{let e=localStorage.getItem("click_effect");"0"==e?c.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.12/static/clickLove.js"><\/script>'):"1"==e?(c.append('<script src="//cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"><\/script>'),c.append('<script src="//zorin.beaa.cn/test/cb1.js"><\/script>')):c.append('<script src="//zorin.beaa.cn/test/cb2.js"><\/script>')})(),"1"==localStorage.getItem("live2d")&&c.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/live2d-widget@latest/autoload.js"><\/script>')):(c.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.12/static/clickLove.js"><\/script>'),c.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/live2d-widget@latest/autoload.js"><\/script>'))};d.day(0),d.night(1),d.day(2),d.day(3),d.day(4),d.accent(5),d.accent(6),d.accent(7),d.accent(8),d.accent(9),d.accent(10),d.accent(11),d.accent(12),d.accent(13),d.accent(14),d.accent(15),d.accent(16),d.accent(17),window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?(a.append('<link href="//zorin.beaa.cn/test/radio-mobile.css" rel="stylesheet" />'),s="non-pc"):(a.append('<link href="//zorin.beaa.cn/test/radio.css" rel="stylesheet" />'),s="pc"),null!=i?p():await delay(1e3,p)})();