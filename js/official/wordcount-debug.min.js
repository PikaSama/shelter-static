/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: A wordcount script, referenced to hexo-wordcount.
 */
(async()=>{const e=(e,n)=>new Promise(o=>{setTimeout(()=>{"function"==typeof n&&n(),o()},e)});await e(100);const n=$(".φgj.φr");n.append('<span class="load_wordcount">Loading...</span>'),await e(1e3);let o=document.querySelector(".φbk.φh.φz").innerText.length;console.log(document.querySelector("article").innerText),console.log(o);let l=$(".φbk.φh.φz img").length;console.log(l);let s=document.querySelectorAll("meting-js"),t=0;if(s.length>0)for(let e=0;e<s.length;e++)t+=s[e].innerText.length,console.log(s[e].innerText),console.log(s[e].innerText.length);console.log(t);let c=document.querySelectorAll("figure"),r=0;if(c.length>0)for(let e=0;e<c.length;e++)r+=c[e].innerText.length,console.log(c[e].innerText),console.log(c[e].innerText.length);console.log(r),o=o-t-r,console.log(o);let i=(Math.round(o/60+r/80)+l)/10;o=o<1e3?"= "+o+" words":"≈ "+Math.round(o/100)/10+"k words",i=i>1?"≈ "+i+" mins":"≈ 1 min",c.length>0&&(r=r<1e3?"= "+r+" chars":"≈ "+Math.round(r/100)/10+"k chars"),$("[class='load_wordcount']").remove(),n.append('<span class="words"><i class="ri-quill-pen-line"></i>'+o+"</span>"),c.length>0&&n.append('<span class="codes">&nbsp;&nbsp;<i class="ri-code-box-line"></i>'+r+"</span>"),n.append('<span class="readtime">&nbsp;&nbsp;<i class="ri-book-open-line"></i>'+i+"</span>")})();