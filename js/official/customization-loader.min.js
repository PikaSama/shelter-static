/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: Loader of custom config.
 */
(async()=>{const e=(e,t)=>new Promise(c=>{setTimeout(()=>{"function"==typeof t&&t(),c()},e)});await e(500);const t=docCookies.hasItem("newbie"),c=docCookies.hasItem("custom"),a=$("head"),i=$("body"),s=document.querySelector("is-palette2");let n,o,r="0",d=0,l="0";const p={click:e=>{s.shadowRoot.querySelectorAll("a")[e].click()},listen:(e,t)=>{s.shadowRoot.querySelectorAll("a")[e].addEventListener("click",t)},accent:t=>{p.listen(t,async()=>{"0"==r&&"pc"!=o&&(await e(50),p.click(n))})},day:e=>{p.listen(e,()=>{docCookies.setItem("night","0",1/0,"/","shelter.beaa.cn",!0),$(".input-radio-night").attr("class","input-radio"),$("textarea#mvsys-night").attr("id","mvsys"),n=e})},night:e=>{p.listen(e,()=>{docCookies.setItem("night","1",1/0,"/","shelter.beaa.cn",!0),$(".input-radio").attr("class","input-radio-night"),$("textarea#mvsys").attr("id","mvsys-night"),n=e})}},m=()=>{1==c&&1==t?(r=docCookies.getItem("sidebar_widget_background"),(()=>{l=docCookies.getItem("auto_night"),d=parseInt(docCookies.getItem("default_theme"));let e=(new Date).getHours();"1"==l&&(e>=19||e<=5)?p.click(1):p.click(d)})(),(()=>{let e=parseInt(docCookies.getItem("default_theme_widget"));0==e?p.click(10):e>0&&e<6?(e+=4,p.click(e)):e>=6&&(e+=5,p.click(e))})(),(()=>{let e=docCookies.getItem("click_effect");"0"==e?i.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.12/static/clickLove.js"><\/script>'):"1"==e?(i.append('<script src="//cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"><\/script>'),i.append('<script src="//zorin.beaa.cn/test/cb1.js"><\/script>')):i.append('<script src="//zorin.beaa.cn/test/cb2.js"><\/script>')})(),"1"==docCookies.getItem("live2d")&&i.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/live2d-widget@latest/autoload.js"><\/script>')):(i.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.12/static/clickLove.js"><\/script>'),i.append('<script src="//cdn.jsdelivr.net/gh/PikaSama/live2d-widget@latest/autoload.js"><\/script>'))};p.day(0),p.night(1),p.day(2),p.day(3),p.day(4),p.accent(5),p.accent(6),p.accent(7),p.accent(8),p.accent(9),p.accent(10),p.accent(11),p.accent(12),p.accent(13),p.accent(14),p.accent(15),p.accent(16),p.accent(17),window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?(a.append('<link href="//zorin.beaa.cn/test/radio-mobile.css" rel="stylesheet" />'),o="non-pc"):(a.append('<link href="//zorin.beaa.cn/test/radio.css" rel="stylesheet" />'),o="pc"),null==s?await e(1500,m):await e(500,m)})();