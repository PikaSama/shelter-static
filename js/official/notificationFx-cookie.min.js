/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: Notification system, including notification for newbie and annoucement features.
 */
async function announce(e,n,t,s){e.append('<link id="jelly" href="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@'+n+'/static/ns-style-growl.css" rel="stylesheet">'),await delay(1e3),new NotificationFx({wrapper:document.body,message:'<p>ğŸ””ã€å…¬å‘Šã€‘â€”â€”2020.8.3<br />å®å’šï¼åšå®¢æœ‰æ–‡ç« æ›´æ–°å•¦~<br />æ›´æ–°åˆ—è¡¨ï¼š<br /><a href="/posts/inside-configuration">[æŒç»­æ›´æ–°]Insideä¸»é¢˜è¿›é˜¶é…ç½®</a><br /><br />å¿«å»çœ‹çœ‹å§~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="confirm" href="'+t+'#cofirmed">ç¡®è®¤å…¬å‘Š</a></p>',layout:"growl",effect:"jelly",type:"error",ttl:1e4,onClose:function(){return!1},onOpen:function(){return!1}}).show(),confirmAnnounce(s)}function confirmAnnounce(e){$("a#confirm").click((function(){$(".ns-box.ns-growl.ns-effect-jelly.ns-type-error.ns-show .ns-close").click(),docCookies.setItem("announcement_date",e,1/0,"/","shelter.beaa.cn",!0)}))}(async()=>{const e=(e,n)=>new Promise(t=>{setTimeout(()=>{"function"==typeof n&&n(),t()},e)});await e(1e3);const n=docCookies.hasItem("newbie"),t=window.location.pathname,s=docCookies.getItem("announcement_date"),o="2020.8.3",i="1.3.12",a=$("head");"/help"!=t&&0==n?await(async()=>{a.append('<link id="thumbslider" href="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.12/static/ns-style-other.css" rel="stylesheet">'),await e(1e3),new NotificationFx({wrapper:document.body,message:'<div class="ns-thumb"><img height="72px" width="72px" src="https://cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.4/images/icon.png"/></div><div style="width:280px;" class="ns-content"><p>ç¬¬ä¸€æ¬¡è®¿é—®åšå®¢ï¼Ÿæ¥çœ‹çœ‹<a style="color:#1eb4f0;" href="https://shelter.beaa.cn/help">ä½¿ç”¨æ•™ç¨‹</a>&nbsp;å­~<br />ç§»åŠ¨ç«¯è¯·ç‚¹å‡»å³ä¸‹è§’çš„åœ†ç‚¹æ‰“å¼€ä¾§è¾¹æ â€œ<span class="Ï†bk icon-sidebar"></span>â€<br />(æµè§ˆåå³å¯æ°¸ä¹…å…³é—­æ­¤é€šçŸ¥)</p></div>',layout:"other",effect:"thumbslider",type:"error",ttl:1e4,onClose:function(){return!1},onOpen:function(){return!1}}).show(),await e(600),$(".ns-box.ns-other.ns-effect-thumbslider.ns-type-error .ns-box-inner").attr("style","width:340px;")})():"/help"!=t&&1==n&&(null!=s&&s==o||1!=n||announce(a,i,t,o))})();