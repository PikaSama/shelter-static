/*
 Author: Zorin
 Github: https://github.com/PikaSama
 License: GPL-3.0 License
 Description: Notification system, including notification for newbie and annoucement features.
 */
(async()=>{await delay(1e3);const e=docCookies.hasItem("newbie"),n=window.location.pathname,s=docCookies.getItem("announcement_date"),t="2020.8.3",a="1.3.12",i=$("head"),r=async(e,n,s,t)=>{e.append('<link id="jelly" href="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@'+n+'/static/ns-style-growl.css" rel="stylesheet">'),await delay(1e3),new NotificationFx({wrapper:document.body,message:'<p>🔔【公告】——2020.8.3<br />叮咚！博客有文章更新啦~<br />更新列表：<br /><a href="/posts/inside-configuration">[持续更新]Inside主题进阶配置</a><br /><br />快去看看吧~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="confirm" href="'+s+'#cofirmed">确认公告</a></p>',layout:"growl",effect:"jelly",type:"error",ttl:1e4,onClose:function(){return!1},onOpen:function(){return!1}}).show(),(e=>{$("a#confirm").click(()=>{$(".ns-box.ns-growl.ns-effect-jelly.ns-type-error.ns-show .ns-close").click(),docCookies.setItem("announcement_date",e,1/0,"/","shelter.beaa.cn",!0)})})(t)};"/help"!=n&&0==e?await(async()=>{i.append('<link id="thumbslider" href="//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.12/static/ns-style-other.css" rel="stylesheet">'),await delay(1e3),new NotificationFx({wrapper:document.body,message:'<div class="ns-thumb"><img height="72px" width="72px" src="https://cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.3.4/images/icon.png"/></div><div style="width:280px;" class="ns-content"><p>第一次访问博客？来看看<a style="color:#1eb4f0;" href="https://shelter.beaa.cn/help">使用教程</a>&nbsp;叭~<br />移动端请点击右下角的圆点打开侧边栏“<span class="φbg icon-sidebar"></span>”<br />(浏览后即可永久关闭此通知)</p></div>',layout:"other",effect:"thumbslider",type:"error",ttl:1e4,onClose:function(){return!1},onOpen:function(){return!1}}).show(),await delay(600),$(".ns-box.ns-other.ns-effect-thumbslider.ns-type-error .ns-box-inner").attr("style","width:340px;")})():"/help"!=n&&1==e&&(null!=s&&s==t||1!=e||r(i,a,n,t))})();